<!doctype html>
<!-- paulirish.com/2008/conditional-stylesheets-vs-css-hacks-answer-neither/ -->
<!--[if lt IE 7]> <html class="no-js ie6 oldie" lang="en"> <![endif]-->
<!--[if IE 7]>    <html class="no-js ie7 oldie" lang="en"> <![endif]-->
<!--[if IE 8]>    <html class="no-js ie8 oldie" lang="en"> <![endif]-->
<!-- Consider adding an manifest.appcache: h5bp.com/d/Offline -->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en"> <!--<![endif]-->
<head>
  <meta charset="utf-8">

  <!-- Use the .htaccess and remove these lines to avoid edge case issues.
       More info: h5bp.com/b/378 -->
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">

  <title>2016-05-04 |  Patrick Ran</title>
  <meta name="author" content="Patrick Ran">
  

  
  <!-- Mobile viewport optimized: j.mp/bplateviewport -->
  <meta name="viewport" content="width=device-width,initial-scale=1">

  <!-- Place favicon.ico and apple-touch-icon.png in the root directory: mathiasbynens.be/notes/touch-icons -->

  <!-- CSS: implied media=all -->
  <!-- CSS concatenated and minified via ant build script-->
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href='https://fonts.googleapis.com/css?family=Inconsolata' rel='stylesheet' type='text/css'>
  <!-- end CSS-->

  <!-- More ideas for your <head> here: h5bp.com/d/head-Tips &#8211;>

  <!-- All JavaScript at the bottom, except for Modernizr / Respond.
       Modernizr enables HTML5 elements & feature detects; Respond is a polyfill for min/max-width CSS3 Media Queries
       For optimal performance, use a custom Modernizr build: www.modernizr.com/download/ -->
  <script src="/javascripts/libs/modernizr-2.0.6.min.js"></script>
</head>

<body id="article">

  <div id="container" style="margin-top: 30px;">
    <nav role="navigation" ><ul class="main-navigation">
  <li style='float:left;margin-right:5px'><a class='nav' href="http://mirreal.net/">HOME</a></li>
  <li style="float:left;margin-right:7px"><a class="nav" href="/">BLOG</a></li>
  <li style='float:left;margin-right:7px'><a class='nav' href="/archives">ARCHIVES</a></li>
  <li style="float:left;margin-right:7px"><a class="nav" href="/note">NOTE</a></li>
  <li style="float:left;margin-right:7px"><a class="nav" href="/weekly">WEEKLY</a></li>
  <li style="float:left;margin-right:7px"><a class="nav" href="/project">PROJECT</a></li>
  <li style="float:left;margin-right:7px"><a class="nav" href="/about">ABOUT</a></li>
</ul>
<br><br>
</nav>
    <article>
  <h1 class="article-title">2016-05-04</h1>
  <div class="sharing">
  
  
</div>

  <div class="article-content"><h2>阅读</h2>

<p><a href="http://www.scalerstalk.com/838-architect">支付宝架构师：从工程师到架构师的成长之路</a></p>

<h2>聚沙</h2>

<h3>条件注释【续】</h3>

<p>判断浏览器</p>

<p>条件注释判断浏览器</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'><span class="c">&lt;!--[if !IE]&gt;&lt;!--[if IE]&gt;&lt;!--[if lt IE 6]&gt;&lt;!--[if gte IE 6]&gt;</span>
</span><span class='line'><span class="c">&lt;!--[if !IE]&gt;&lt;!--&gt;</span> 除IE外都可识别 <span class="c">&lt;!--&lt;![endif]--&gt;</span>
</span><span class='line'><span class="c">&lt;!--[if IE]&gt; 所有的IE可识别 &lt;![endif]--&gt;</span>
</span><span class='line'><span class="c">&lt;!--[if IE 6]&gt; 仅IE6可识别 &lt;![endif]--&gt;</span>
</span><span class='line'><span class="c">&lt;!--[if lte IE 6]&gt; IE6以及IE6以下版本可识别 &lt;![endif]--&gt;</span>
</span><span class='line'><span class="c">&lt;!--[if gte IE 6]&gt; IE6以及IE6以上版本可识别 &lt;![endif]--&gt;</span>
</span><span class='line'><span class="c">&lt;!--[if IE 7]&gt; 仅IE7可识别 &lt;![endif]--&gt;</span>
</span><span class='line'><span class="c">&lt;!--[if lte IE 7]&gt; IE7以及IE7以下版本可识别 &lt;![endif]--&gt;</span>
</span><span class='line'><span class="c">&lt;!--[if gte IE 7]&gt; IE7以及IE7以上版本可识别 &lt;![endif]--&gt;</span>
</span><span class='line'><span class="c">&lt;!--[if IE 8]&gt; 仅IE8可识别 &lt;![endif]--&gt;</span>
</span><span class='line'><span class="c">&lt;!--[if IE 9]&gt; 仅IE9可识别 &lt;![endif]--&gt;</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'>!    [if !IE]    The NOT operator. This is placed immediately in front of the feature, operator, or subexpression to reverse the Boolean meaning of the expression.
</span><span class='line'>NOT运算符。这是摆立即在前面的功能，操作员，或子表达式扭转布尔表达式的意义。
</span><span class='line'>lt    [if lt IE 5.5]  The less-than operator. Returns true if the first argument is less than the second argument.
</span><span class='line'>小于运算符。如果第一个参数小于第二个参数，则返回true。
</span><span class='line'>lte   [if lte IE 6]   The less-than or equal operator. Returns true if the first argument is less than or equal to the second argument.
</span><span class='line'>小于或等于运算。如果第一个参数是小于或等于第二个参数，则返回true。
</span><span class='line'>gt    [if gt IE 5]    The greater-than operator. Returns true if the first argument is greater than the second argument.
</span><span class='line'>大于运算符。如果第一个参数大于第二个参数，则返回true。
</span><span class='line'>gte   [if gte IE 7]   The greater-than or equal operator. Returns true if the first argument is greater than or equal to the second argument.
</span><span class='line'>大于或等于运算。如果第一个参数是大于或等于第二个参数，则返回true。
</span><span class='line'>( )   [if !(IE 7)]    Subexpression operators. Used in conjunction with boolean operators to create more complex expressions.
</span><span class='line'>子表达式运营商。在与布尔运算符用于创建更复杂的表达式。
</span><span class='line'><span class="err">&amp;</span>    [if (gt IE 5)<span class="err">&amp;</span>(lt IE 7)]   The AND operator. Returns true if all subexpressions evaluate to true
</span><span class='line'>AND运算符。如果所有的子表达式计算结果为true，返回true
</span><span class='line'>| [if (IE 6)|(IE 7)]  The OR operator. Returns true if any of the subexpressions evaluates to true.
</span><span class='line'>OR运算符。返回true，如果子表达式计算结果为true。
</span></code></pre></td></tr></table></div></figure>


<p>但条件注释放 awp 就没用了，平台会进行代码压缩，把注释压缩掉</p>

<p><a href="http://kangax.github.io/compat-table/es5/">http://kangax.github.io/compat-table/es5/</a></p>

<p><a href="http://www.cnblogs.com/dtdxrk/archive/2012/03/06/2381868.html">http://www.cnblogs.com/dtdxrk/archive/2012/03/06/2381868.html</a></p>

<h3>IE9, IE10</h3>

<p><a href="https://github.com/babel/babelify/issues/133">https://github.com/babel/babelify/issues/133</a></p>

<p>两个插件：</p>

<p><a href="http://babeljs.io/docs/plugins/transform-es2015-classes/">http://babeljs.io/docs/plugins/transform-es2015-classes/</a></p>

<p><a href="http://babeljs.io/docs/plugins/transform-proto-to-assign/">http://babeljs.io/docs/plugins/transform-proto-to-assign/</a></p>

<h3>chrome 滚动条</h3>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
</pre></td><td class='code'><pre><code class='html'><span class='line'>::-webkit-scrollbar 滚动条整体部分
</span><span class='line'>::-webkit-scrollbar-button 滚动条两端的按钮
</span><span class='line'>::-webkit-scrollbar-track 外层轨道
</span><span class='line'>::-webkit-scrollbar-track-piece 内层轨道，滚动条中间部分（除去）
</span><span class='line'>::-webkit-scrollbar-thumb （滚动条里面可以拖动的那个）
</span><span class='line'>::-webkit-scrollbar-corner 边角
</span><span class='line'>::-webkit-resizer 定义右下角拖动块的样式
</span></code></pre></td></tr></table></div></figure>


<p><a href="http://alfred-sun.github.io/blog/2014/12/24/scrollbar-customized-with-css-style/">http://alfred-sun.github.io/blog/2014/12/24/scrollbar-customized-with-css-style/</a></p>

<h3>git 文件名大小写不敏感的问题</h3>

<p>故事的起源大概是 之前有人写了个 <code>priceDetail</code> 的模块，其实就是个文件夹，然后开心地提交上去了。</p>

<p>咦，也许变量是驼峰命名的，也许不是，谁知道呢，看着不顺眼，不看啊</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="kd">var</span> <span class="nx">Pricedetail</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;./priceDetail/index&#39;</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>后来，有人觉得 这个文件夹的命名方式跟项目其他文件命名方式不符，然后就换成了 <code>pricedetail</code>，然后顺便在引用的地方改了一下：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="kd">var</span> <span class="nx">Pricedetail</span> <span class="o">=</span> <span class="nx">require</span><span class="p">(</span><span class="s1">&#39;./pricedetail/index&#39;</span><span class="p">);</span>
</span></code></pre></td></tr></table></div></figure>


<p>然后又开心地提交上去了，打包，发布，一切都是那么顺滑，什么问题都没有。</p>

<p>可惜的是，TA 忽略了 git 大小写不敏感这个问题，文件夹的改动并没有提交上去。</p>

<p>然后，有天另一个人想修改点东西，把代码 pull 下来，开始跑，啊，报错了，找不到 <code>pricedetail/index</code> 这个模块。</p>

<p>这个人也没深究，原来是谁把模块名字写错了，好吧，我改过来好了，改成 <code>priceDetail</code>，一切又正常了。</p>

<p>可是，在另外一边的人再一次更新代码的时候，发现哪个傻逼把名字改错了，于是又改回去，所以又变回 <code>pricedetail</code>。</p>

<p>一来一去，改过来，改过去，改过来，改过去&hellip;</p>

<p>今天，又有人过来问我怎么跑不起来了，我也郁闷，怎么老是有人在这个问题上改来改去的。</p>

<p>想想，只是个 git 文件大小写不敏感的故事。</p>

<h4>后续：</h4>

<p>你想大小写敏感，也行，改改配置就 okay 了：</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="nx">git</span> <span class="nx">config</span> <span class="nx">core</span><span class="p">.</span><span class="nx">ignorecase</span> <span class="kc">false</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="nx">Add</span> <span class="nx">ignorecase</span> <span class="o">=</span> <span class="kc">false</span> <span class="nx">to</span> <span class="p">[</span><span class="nx">core</span><span class="p">]</span> <span class="k">in</span> <span class="p">.</span><span class="nx">git</span><span class="o">/</span><span class="nx">config</span><span class="p">;</span>
</span></code></pre></td></tr></table></div></figure>


<p>或则全局修改</p>

<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="nx">git</span> <span class="nx">config</span> <span class="nx">core</span><span class="p">.</span><span class="nx">ignorecase</span> <span class="kc">false</span>  <span class="o">--</span><span class="nx">global</span>
</span></code></pre></td></tr></table></div></figure>




<figure class='code'><figcaption><span></span></figcaption><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
</pre></td><td class='code'><pre><code class='js'><span class='line'><span class="nx">ignorecase</span> <span class="o">=</span> <span class="kc">false</span>
</span></code></pre></td></tr></table></div></figure>

</div>

  
  <section>
    <h1>Comments</h1>
    <div id="disqus_thread"><div id="disqus_thread"></div>
<script type="text/javascript">
  var disqus_shortname = 'mirreal';
  var disqus_identifier = 'https://blog.mirreal.net/note/2016-05-04.html';
  var disqus_url = 'https://blog.mirreal.net/note/2016-05-04.html';
  //var disqus_developer = 1;
  (function() {
    var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/embed.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>
<noscript>Please enable JavaScript to view the <a href="//disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>
  
</article>

       <footer role="contentinfo" class="copyright">
    	<p>
		Copyright &copy; 2019 - <span><a href="http://mirreal.net/">Patrick Ran</a></span>
	</p>
    </footer>

  </div>

</body>
</html>

